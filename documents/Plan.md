# План автоматизации тестирования

## Перечень автоматизируемых сценариев
- ID: 1
- Название: Оплата через Payment Gate с валидными данными карты и статусом платежа «APPROVED»
- Приоритет: Высокий 
- Предусловие: Перейти на страницу http://localhost:8080/

Номер шага | Шаги | Ожидаемый результат
:-----|:-----:| -------:
1 | Нажать кнопку «Купить» | Появился блок «Оплата по карте» с 5 полями и кнопкой «Продолжить»
2 | Ввести «4444 4444 4444 4441» в поле «Номер карты» | В после отображается введённый номер
3 | Ввести «09» в поле «Месяц» | В поле отображается введённый месяц
4 | Ввести «24» в после «Год» | В поле отображается введённый год
5 | Ввести «Ivan Ivanov» в поле «Владелец» | В поле отображается введённое имя и фамилия
6 | Ввести «555» в поле «CVC/CVV» | В поле отображается введённое значение 
7 | Нажать кнопку «Продолжить» | Текст кнопки «Продолжить» изменился на «Отправляем запрос в банк...». Затем справа сверху появился блок с текстом «Операция одобрена банком», а над ним текст «Успешно». После этого текст кнопки обратно изменился на «Продолжить» 
8 | Сделать запрос в БД приложения и получить payment_id из order_entity и transaction_id в payment_entity, а также значения status и amount в payment_entity | payment_id из order_entity совпадает с transaction_id в payment_entity. status в payment_entity = APPROVED, а amount = 4 500 000
- Постусловие: Очистить все таблицы в базе данных


---

- ID: 2
- Название: Оплата через Credit Gate с валидными данными карты и статусом платежа «APPROVED»
- Приоритет: Высокий 
- Предусловие: Перейти на страницу http://localhost:8080/

Номер шага | Шаги | Ожидаемый результат
:-----|:-----:| -------:
1 | Нажать кнопку «Купить в кредит» | Появился блок «Кредит по данным карты» с 5 полями и кнопкой «Продолжить»
2 | Ввести «4444 4444 4444 4441» в поле «Номер карты» | В после отображается введённый номер
3 | Ввести «09» в поле «Месяц» | В поле отображается введённый месяц
4 | Ввести «24» в после «Год» | В поле отображается введённый год
5 | Ввести «Ivan Ivanov» в поле «Владелец» | В поле отображается введённое имя и фамилия
6 | Ввести «555» в поле «CVC/CVV» | В поле отображается введённое значение 
7 | Нажать кнопку «Продолжить» | Текст кнопки «Продолжить» изменился на «Отправляем запрос в банк...». Затем справа сверху появился блок с текстом «Операция одобрена банком», а над ним текст «Успешно». После этого текст кнопки обратно изменился на «Продолжить» 
8 | Сделать запрос в БД приложения и получить payment_id из order_entity и bank_id в credit_request_entity, а также значения status в payment_entity | payment_id из order_entity совпадает с bank_id в credit_request_entity. status в credit_request_entity = APPROVED.
- Постусловие: Очистить все таблицы в базе данных

---

- ID: 3
- Название: Оплата через Payment Gate с валидными данными карты и статусом платежа «DECLINED»
- Приоритет: Высокий 
- Предусловие: Перейти на страницу http://localhost:8080/

Номер шага | Шаги | Ожидаемый результат
:-----|:-----:| -------:
1 | Нажать кнопку «Купить» | Появился блок «Оплата по карте» с 5 полями и кнопкой «Продолжить»
2 | Ввести «4444 4444 4444 4442» в поле «Номер карты» | В после отображается введённый номер
3 | Ввести «09» в поле «Месяц» | В поле отображается введённый месяц
4 | Ввести «24» в после «Год» | В поле отображается введённый год
5 | Ввести «Ivan Ivanov» в поле «Владелец» | В поле отображается введённое имя и фамилия
6 | Ввести «555» в поле «CVC/CVV» | В поле отображается введённое значение 
7 | Нажать кнопку «Продолжить» | Текст кнопки «Продолжить» изменился на «Отправляем запрос в банк...». Затем справа сверху появился блок с текстом «Ошибка! Банк отказал в проведении операции.», а над ним текст «Ошибка». После этого текст кнопки обратно изменился на «Продолжить» 
8 | Сделать запрос в БД приложения и получить payment_id из order_entity и transaction_id в payment_entity, а также значения status и amount в payment_entity | payment_id из order_entity совпадает с transaction_id в payment_entity. status в payment_entity = DECLINED, а amount = 4 500 000
- Постусловие: Очистить все таблицы в базе данных

---

- ID: 4
- Название: Оплата через Credit Gate с валидными данными карты и статусом платежа «DECLINED»
- Приоритет: Высокий 
- Предусловие: Перейти на страницу http://localhost:8080/

Номер шага | Шаги | Ожидаемый результат
:-----|:-----:| -------:
1 | Нажать кнопку «Купить в кредит» | Появился блок «Кредит по данным карты» с 5 полями и кнопкой «Продолжить»
2 | Ввести «4444 4444 4444 4442» в поле «Номер карты» | В после отображается введённый номер
3 | Ввести «09» в поле «Месяц» | В поле отображается введённый месяц
4 | Ввести «24» в после «Год» | В поле отображается введённый год
5 | Ввести «Ivan Ivanov» в поле «Владелец» | В поле отображается введённое имя и фамилия
6 | Ввести «555» в поле «CVC/CVV» | В поле отображается введённое значение 
7 | Нажать кнопку «Продолжить» | Текст кнопки «Продолжить» изменился на «Отправляем запрос в банк...». Затем справа сверху появился блок с текстом «Ошибка! Банк отказал в проведении операции.», а над ним текст «Ошибка». После этого текст кнопки обратно изменился на «Продолжить» 
8 | Сделать запрос в БД приложения и получить payment_id из order_entity и bank_id в credit_request_entity, а также значения status в payment_entity | payment_id из order_entity совпадает с bank_id в credit_request_entity. status в credit_request_entity = DECLINED.
- Постусловие: Очистить все таблицы в базе данных

---

- ID: 5
- Название: Ввод невалидных данных в поле номер карты
- Приоритет: Высокий
- Предусловие: Перейти на страницу http://localhost:8080/

Номер шага | Шаги | Ожидаемый результат
:-----|:-----:| -------:
1 | Нажать кнопку «Купить в кредит» | Появился блок «Кредит по данным карты» с 5 полями и кнопкой «Продолжить»
2 | Ввести «09» в поле «Месяц» | В поле отображается введённый месяц
3 | Ввести «24» в после «Год» | В поле отображается введённый год
4 | Ввести «Ivan Ivanov» в поле «Владелец» | В поле отображается введённое имя и фамилия
5 | Ввести «555» в поле «CVC/CVV» | В поле отображается введённое значение 
6 | Нажать кнопку «Продолжить» | Под полем «Номер карты» появилось сообщение «Неверный формат»
7 | Ввести «1» в поле «Номер карты» | В поле отображается введённое значение
8 | Нажать кнопку «Продолжить» | Под полем «Номер карты» появилось сообщение «Неверный формат»
9 | Ввести «ABCDE» в поле «Номер карты» | В поле отображается плейсхолдер
10 | Нажать кнопку «Продолжить» | Под полем «Номер карты» появилось сообщение «Неверный формат»
11 | Ввести «АБВГД» в поле «Номер карты» | В поле отображается плейсхолдер
12 | Нажать кнопку «Продолжить» | Под полем «Номер карты» появилось сообщение «Неверный формат»
13 | Ввести «!@#» в поле «Номер карты» | В поле отображается плейсхолдер
14 | Нажать кнопку «Продолжить» | Под полем «Номер карты» появилось сообщение «Неверный формат»
15 | Ввести пробел в поле «Номер карты» | В поле отображается плейсхолдер
16 | Нажать кнопку «Продолжить» | Под полем «Номер карты» появилось сообщение «Неверный формат»
17 | Ввести «4444 4444 4444 4441 4» в поле «Номер карты» | В поле отображается «4444 4444 4444 4441»
18 | Ввести «4» в поле «Номер карты» | В поле отображается «4»
19 | Нажать кнопку «Продолжить» | Под полем «Номер карты» появилось сообщение «Неверный формат»

---

ID: 6
- Название: Ввод валидных данных, после попытки отправить заявку с указанными невалидными данными
- Приоритет: Низкий
- Предусловие: Перейти на страницу http://localhost:8080/

Номер шага | Шаги | Ожидаемый результат
:-----|:-----:| -------:
1 | Нажать кнопку «Купить в кредит» | Появился блок «Кредит по данным карты» с 5 полями и кнопкой «Продолжить»
2 | Ввести «3131» в поле «Номер карты» | В поле отображается введённый месяц
2 | Ввести «3» в поле «Месяц» | В поле отображается введённый месяц
3 | Ввести «1» в после «Год» | В поле отображается введённый год
4 | Ввести «;№";"№» в поле «Владелец» | В поле отображается введённое имя и фамилия
5 | Ввести «3» в поле «CVC/CVV» | В поле отображается введённое значение 
6 | Нажать кнопку «Продолжить» | Под каждый молем появилось сообщение «Неверный формат»
7 | Очистить все поля | В полях отображаются плейсхолдеры
8 | Ввести «4444 4444 4444 4441» в поле «Номер карты» | В после отображается введённый номер
9 | Ввести «09» в поле «Месяц» | В поле отображается введённый месяц
10 | Ввести «24» в после «Год» | В поле отображается введённый год
11 | Ввести «Ivan Ivanov» в поле «Владелец» | В поле отображается введённое имя и фамилия
12 | Ввести «555» в поле «CVC/CVV» | В поле отображается введённое значение 
13 | Нажать кнопку «Продолжить» | Текст кнопки «Продолжить» изменился на «Отправляем запрос в банк...». Затем справа сверху появился блок с текстом «Операция одобрена банком», а над ним текст «Успешно». После этого текст кнопки обратно изменился на «Продолжить». Под полями исчез текст «Неверный формат»
- Постусловие: Очистить все таблицы в базе данных

---

ID: 7
- Название: Ввод невалидных данных в поле «Месяц»
- Приоритет: Высокий
- Предусловие: Перейти на страницу http://localhost:8080/

Номер шага | Шаги | Ожидаемый результат
:-----|:-----:| -------:
1 | Нажать кнопку «Купить в кредит» | Появился блок «Кредит по данным карты» с 5 полями и кнопкой «Продолжить»
2 | Ввести «4444 4444 4444 4441» в поле «Номер карты» | В после отображается введённый номер
3 | Ввести «24» в после «Год» | В поле отображается введённый год
4 | Ввести «Ivan Ivanov» в поле «Владелец» | В поле отображается введённое имя и фамилия
5 | Ввести «555» в поле «CVC/CVV» | В поле отображается введённое значение
6 | Нажать кнопку «Продолжить» | Под полем месяц отображается текст «Неверный формат»
7 | Ввести «00» в поле «Месяц» | В поле отображается введённое значение
8 | Нажать кнопку «Продолжить» | Под полем месяц отображается текст «Неверно указан срок действия карты»
9 | Ввести «13» в поле «Месяц» | В поле отображается введённое значение
10 | Нажать кнопку «Продолжить» | Под полем месяц отображается текст «Неверно указан срок действия карты»
11 | Ввести «AB» в поле «Месяц» | В поле отображается плейсхолдер
12 | Нажать кнопку «Продолжить» | Под полем месяц появилось сообщение «Неверный формат»
13 | Ввести «АБ» в поле «Месяц» | В поле отображается плейсхолдер
14 | Нажать кнопку «Продолжить» | Под полем месяц появилось сообщение «Неверный формат»
15 | Ввести «!@» в поле «Месяц» | В поле отображается плейсхолдер
16 | Нажать кнопку «Продолжить» | Под полем месяц появилось сообщение «Неверный формат»
17 | Ввести пробел в поле «Месяц» | В поле отображается плейсхолдер
18 | Нажать кнопку «Продолжить» | Под полем месяц появилось сообщение «Неверный формат»
19 | Ввести «322» в поле «Месяц» | В поле отображается «32»
20| Ввести «3» в поле «Месяц» | В поле отображается «3»
21 | Нажать кнопку «Продолжить» | Под полем месяц появилось сообщение «Неверный формат»
22 | Ввести «123» в поле «Месяц» | В поле отображается «12»

---

ID: 8
- Название: Ввод невалидных данных в поле «Год»
- Приоритет: Высокий
- Предусловие: Перейти на страницу http://localhost:8080/

Номер шага | Шаги | Ожидаемый результат
:-----|:-----:| -------:
1 | Нажать кнопку «Купить в кредит» | Появился блок «Кредит по данным карты» с 5 полями и кнопкой «Продолжить»
2 | Ввести «4444 4444 4444 4441» в поле «Номер карты» | В после отображается введённый номер
3 | Ввести «09» в после «Месяц» | В поле отображается введённый год
4 | Ввести «Ivan Ivanov» в поле «Владелец» | В поле отображается введённое имя и фамилия
5 | Ввести «555» в поле «CVC/CVV» | В поле отображается введённое значение
6 | Нажать кнопку «Продолжить» | Под полем «Год» отображается текст «Неверный формат»
7 | Ввести «19» в поле «Год» | В поле отображается введённое значение
8 | Нажать кнопку «Продолжить» | Под полем «Год» отображается текст «Истёк срок действия карты»
9 | Ввести «29» в поле «Год» | В поле отображается введённое значение
10 | Нажать кнопку «Продолжить» | Под полем «Год» отображается текст «Неверно указан срок действия карты»
9 | Ввести «2» в поле «Год» | В поле отображается введённое значение
10 | Нажать кнопку «Продолжить» | Под полем «Год» отображается текст «Неверный формат»
11 | Ввести «AB» в поле «Год» | В поле отображается плейсхолдер
12 | Нажать кнопку «Продолжить» | Под полем «Год» появилось сообщение «Неверный формат»
13 | Ввести «АБ» в поле «Год» | В поле отображается плейсхолдер
14 | Нажать кнопку «Продолжить» | Под полем «Год» появилось сообщение «Неверный формат»
15 | Ввести «!@» в поле «Год» | В поле отображается плейсхолдер
16 | Нажать кнопку «Продолжить» | Под полем «Год» появилось сообщение «Неверный формат»
17 | Ввести пробел в поле «Год» | В поле отображается плейсхолдер
18 | Нажать кнопку «Продолжить» | Под полем «Год» появилось сообщение «Неверный формат»

---

ID: 9
- Название: Ввод невалидных данных в поле «Владелец»
- Приоритет: Высокий
- Предусловие: Перейти на страницу http://localhost:8080/

Номер шага | Шаги | Ожидаемый результат
:-----|:-----:| -------:
1 | Нажать кнопку «Купить в кредит» | Появился блок «Кредит по данным карты» с 5 полями и кнопкой «Продолжить»
2 | Ввести «4444 4444 4444 4441» в поле «Номер карты» | В после отображается введённый номер
3 | Ввести «09» в поле «Месяц» | В поле отображается введённый месяц
4 | Ввести «24» в после «Год» | В поле отображается введённый год
6 | Ввести «555» в поле «CVC/CVV» | В поле отображается введённое значение 
6 | Нажать кнопку «Продолжить» | Под полем «Год» отображается текст «Неверный формат»
7 | Ввести «Ivan» в поле «Владелец» | В поле отображается введенное значение
8 | Нажать кнопку «Продолжить» | Под полем «Владелец» появилось сообщение «Неверный формат»
9 | Ввести «323» в поле «Владелец» | В поле отображается введенное значение
10 | Нажать кнопку «Продолжить» | Под полем «Владелец» появилось сообщение о том, что нужно ввести фамилию и имя латиницей
11 | Ввести «Иван Иванов» в поле «Владелец» | В поле отображается введенное значение
12 | Нажать кнопку «Продолжить» | Под полем «Владелец» появилось сообщение о том, что нужно ввести фамилию и имя латиницей
13 | Ввести «Ivan Ivanovich Invanov» в поле «Владелец» | В поле отображается введенное значение
14 | Нажать кнопку «Продолжить» | Под полем «Владелец» появилось сообщение о том, что нужно ввести фамилию и имя латиницей
15 | Ввести «!@#» в поле «Владелец» | В поле отображается введенное значение
16 | Нажать кнопку «Продолжить» | Под полем «Владелец» появилось сообщение о том, что нужно ввести фамилию и имя латиницей
17 | Ввести «123» в поле «Владелец» | В поле отображается введенное значение
18 | Нажать кнопку «Продолжить» | Под полем «Владелец» появилось сообщение о том, что нужно ввести фамилию и имя латиницей
19 | Ввести пробел в поле «Владелец» | В поле отображается введенное значение
20 | Нажать кнопку «Продолжить» | Под полем «Владелец» появилось сообщение о том, что нужно ввести фамилию и имя латиницей

---

ID: 10
- Название: Ввод невалидных данных в поле «CVC/CVV»
- Приоритет: Высокий
- Предусловие: Перейти на страницу http://localhost:8080/

Номер шага | Шаги | Ожидаемый результат
:-----|:-----:| -------:
1 | Нажать кнопку «Купить в кредит» | Появился блок «Кредит по данным карты» с 5 полями и кнопкой «Продолжить»
2 | Ввести «4444 4444 4444 4441» в поле «Номер карты» | В после отображается введённый номер
3 | Ввести «09» в поле «Месяц» | В поле отображается введённый месяц
4 | Ввести «24» в после «Год» | В поле отображается введённый год
5 | Ввести «Ivan Ivanov» в поле «Владелец» | В поле отображается введённое имя и фамилия
6 | Ввести пробел в поле «CVC/CVV» | В поле отображается плейсхолдер 
7 | Нажать кнопку «Продолжить» | Под полем «CVC/CVV» появился текст «Неверный формат»
6 | Ввести «9» в поле «CVC/CVV» | В поле отображается введённое значение
7 | Нажать кнопку «Продолжить» | Под полем «CVC/CVV» появился текст «Неверный формат»
8 | Ввести «9999» в поле «CVC/CVV» | В поле отображается «999»
9 | Ввести «ABC» в поле «CVC/CVV» | В поле отображается плейсхолдер
10 | Нажать кнопку «Продолжить» | Под полем «CVC/CVV» появился текст «Неверный формат»
11 | Ввести «АБВ» в поле «CVC/CVV» | В поле отображается плейсхолдер
12 | Нажать кнопку «Продолжить» | Под полем «CVC/CVV» появился текст «Неверный формат»
13 | Ввести «!@#» в поле «CVC/CVV» | В поле отображается плейсхолдер
14 | Нажать кнопку «Продолжить» | Под полем «CVC/CVV» появился текст «Неверный формат»

---

ID: 11
- Название: Переключение кнопок и полей с помощью табуляции
- Приоритет: Низкий 
- Предусловие: Перейти на страницу http://localhost:8080/
Номер шага | Шаги | Ожидаемый результат
:-----|:-----:| -------:
1 | Нажать кнопку «Купить в кредит» | Появился блок «Кредит по данным карты» с 5 полями и кнопкой «Продолжить»
2 | Нажать на область экрана, где нет кнопок и полей | На кнопках и полях нет фокуса
3 | Нажать TAB | Фокус на кнопке «Купить»    
4 | Нажать TAB | Фокус на кнопке «Купить в кредит»    
5 | Нажать TAB | Фокус на поле «Номер карты» 
6 | Нажать TAB | Фокус на поле «Месяц» 
7 | Нажать TAB | Фокус на поле «Год» 
8 | Нажать TAB | Фокус на поле «Владелец» 
9 | Нажать TAB | Фокус на поле «CVC/CVV» 
10 | Нажать TAB | Фокус на кнопке «Продолжить» 

---

ID: 12
- Название: Оплата через Payment Gate с карты, срок годности которой выйдет через 5 лет, считая от текущего месяца
- Приоритет: Высокий 
- Предусловие: Перейти на страницу http://localhost:8080/

Номер шага | Шаги | Ожидаемый результат
:-----|:-----:| -------:
1 | Нажать кнопку «Купить» | Появился блок «Оплата по карте» с 5 полями и кнопкой «Продолжить»
2 | Ввести «4444 4444 4444 4441» в поле «Номер карты» | В после отображается введённый номер
3 | Ввести «08» в поле «Месяц» | В поле отображается введённый месяц
4 | Ввести «29» в после «Год» | В поле отображается введённый год
5 | Ввести «Ivan Ivanov» в поле «Владелец» | В поле отображается введённое имя и фамилия
6 | Ввести «555» в поле «CVC/CVV» | В поле отображается введённое значение 
7 | Нажать кнопку «Продолжить» | Текст кнопки «Продолжить» изменился на «Отправляем запрос в банк...». Затем справа сверху появился блок с текстом «Операция одобрена банком», а над ним текст «Успешно». После этого текст кнопки обратно изменился на «Продолжить» 
8 | Сделать запрос в БД приложения и получить payment_id из order_entity и transaction_id в payment_entity, а также значения status и amount в payment_entity | payment_id из order_entity совпадает с transaction_id в payment_entity. status в payment_entity = APPROVED, а amount = 4 500 000
- Постусловие: Очистить все таблицы в базе данных

---

## Перечень используемых инструментов с обоснованием выбора
1. **Java 11**: Данный язык хорошо подходит для автоматизации и обладает всеми необходимыми библиотеками для решения поставленной задачи.
2. **IntelliJ IDEA Community Edition 2022**: Бесплатная среда разработки, позволяющая удобно работать с Java, Git и необходимыми библиотеками.
3. **Git**: Наиболее распростронённая система контроля версий, с которой умеют работать все разработчики и автоматизаторы тестирования. Новым сотрудникам будет проще погрузиться в проект, если они будут работать со знакомой CVS.
4. **Система автоматической сборки Gradle**: Позволит быстро загрузить необходимые библиотеки и запустить проект, что съекономит время выполнения задачи.
5. **Selenide**: Наиболее удобная и распространённая технология для UI-тестирования.
6. **Lombok**: Библиотека, которая позволить уменьшить время написания кода. Тем самым на решения задачи потребуется меньше временных и финансовых ресурсов.
7. **Allure**: Framework для создания отчетов о тестировании и их анализа. Позволит продемонстрировать результат работы. Легко развёртывается и позволяет в удобном виде посмотреть результаты тестирования. 
8. **Закрытый репозиторий на GitHub или альтернативный сервис на выбор компании**: Репозиторий для хранения проекта и доступа к нему у разных членов команды. GitHub выбран, как наиболее распространённый и надёжный. Любой QA-автоматизатор знает как с ним работать. Также можно воспользоваться альтернативой на выбор компании, с учётом мнения сотрудников, которые отвечают за правила хранения кода. 
9. **MySQL/PostgreSQL**: используем эти СУБД т.к. заявлена поддержка обоих СУБД — следовательно, нужно проверить работу систему с 2 СУБД.
10. **Docker**: ПО для автоматизации развертывания приложений. Позволит легко развернуть приложение на разных устройствах, без необходимости загружать различные вспомогательные программы. Выбрали его т.к. это самая расспространённая технология, и большинство автоматизаторов тестирования умеют с ней работать.
11. **DBeaver**: приложения для удобного просмотра и работе в различных БД. Будет послезно на этапе разработки автотестов.

## Перечень и описание возможных рисков при автоматизации
Если в дальнейшем планируется менять интерфейс приложения, его html-структуру и data-аттрибуты — автотесты могут перестать функционировать и потребуют доработки. Также доработка потребуется, если будет менятся структура базы данных. Данная работа потребует дополнительных временных, а значит и финансовых вложений. В случае, если изменения будут слишком большие, то автоматизация на данном этапе будет неэффективна. 

## Интервальная оценка с учётом рисков в часах
На выполнение работы потребуется 40-50 часов.

## План сдачи работ: когда будут готовы автотесты, результаты их прогона
Работа будет завершена 7 сентября.

